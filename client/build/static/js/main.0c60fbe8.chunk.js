(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,n){e.exports=n(74)},38:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),o=n.n(c),s=(n(38),n(3)),l=n.n(s),u=n(9),i=n(7),m=n(1),p=function(e,t){switch(t.type){case"SET_USER":return Object(m.a)({},e,{user:t.paylaod,userAuth:!0,errors:null});case"REGISTER_USER":case"LOGIN_USER":return localStorage.setItem("token",t.payload.token),Object(m.a)({},e,{userAuth:!0,errors:null});case"FAIL_REGISTER":case"FAIL_LOGIN":case"LOG_OUT":case"AUTH_ERROR":return localStorage.removeItem("token"),Object(m.a)({},e,{userAuth:null,errors:t.payload});case"SET_ERROR":return Object(m.a)({},e,{errors:t.payload});case"CLEAR_ERROR":return Object(m.a)({},e,{errors:null});default:return e}},E=n(4),d=n.n(E),f=function(e){e?d.a.defaults.headers.common["auth-token"]=e:delete d.a.defaults.headers.common["auth-token"]},v={user:null,userAuth:null,errors:null},h=Object(a.createContext)(v),x=function(e){var t=e.children,n=Object(a.useReducer)(p,v),c=Object(i.a)(n,2),o=c[0],s=c[1],m=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&f(localStorage.token),e.prev=1,e.next=4,d.a.get("/auth");case 4:t=e.sent,s({type:"SET_USER",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"AUTH_ERROR",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={header:{"content-type":"application/json"}},e.prev=1,e.next=4,d.a.post("/register",t,n);case 4:a=e.sent,s({type:"REGISTER_USER",payload:a.data}),m(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"FAIL_REGISTER",payload:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={header:{"content-type":"application/json"}},e.prev=1,e.next=4,d.a.post("/auth",t,n);case 4:a=e.sent,s({type:"LOGIN_USER",payload:a.data}),m(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"FAIL_LOGIN",payload:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(h.Provider,{value:{user:o.user,userAuth:o.userAuth,errors:o.errors,getUser:m,registerUser:E,loginUser:x,logout:function(){s({type:"LOG_OUT"})},setError:function(e){s({type:"SET_ERROR",payload:e})},clearError:function(){s({type:"CLEAR_ERROR"})}}},t)},b=(n(57),function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"BUDGET APP"))}),O=n(19),y=function(e,t){switch(t.type){case"GET_INCOMES":return Object(m.a)({},e,{incomeTransactions:t.payload});case"GET_EXPENSES":return Object(m.a)({},e,{expenseTranasctions:t.payload});case"ADD_INCOME":return Object(m.a)({},e,{incomeTransactions:[].concat(Object(O.a)(e.incomeTransactions),[t.payload])});case"ADD_EXPENSE":return Object(m.a)({},e,{expenseTransactions:[].concat(Object(O.a)(e.expenseTransactions),[t.payload])});case"DELETE_INCOME":return Object(m.a)({},e,{incomeTransactions:e.incomeTransactions.filter((function(e){return e._id!==t.payload}))});case"DELETE_EXPENSE":return Object(m.a)({},e,{expenseTransactions:e.expenseTransactions.filter((function(e){return e._id!==t.payload}))});case"INCOMES_ERROR":return Object(m.a)({},e,{incomeTransactions:[],errors:t.payload});case"EXPENSES_ERROR":return Object(m.a)({},e,{expenseTransactions:[],errors:t.payload});default:return e}},g={incomeTransactions:[],expenseTransactions:[],errors:null},j=Object(a.createContext)(g),N=function(e){var t=e.children,n=Object(a.useReducer)(y,g),c=Object(i.a)(n,2),o=c[0],s=c[1],m=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/incomes");case 3:t=e.sent,s({type:"GET_INCOMES",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"INCOMES_ERROR",payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/expenses");case 3:t=e.sent,s({type:"GET_EXPENSES",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"EXPENSES_ERROR",payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"Application/json"},e.prev=1,e.next=4,d.a.post("/incomes",t,n);case 4:a=e.sent,s({type:"ADD_INCOME",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"INCOMES_ERROR",payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"Application/json"},e.prev=1,e.next=4,d.a.post("/expenses",t,n);case 4:a=e.sent,s({type:"ADD_EXPENSE",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"EXPENSES_ERROR",payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/incomes/".concat(t));case 3:s({type:"DELETE_INCOME",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"INCOMES_ERROR",payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/expenses/".concat(t));case 3:s({type:"DELETE_EXPENSE",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"EXPENSES_ERROR",payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(j.Provider,{value:{incomeTransactions:o.incomeTransactions,expenseTransactions:o.expenseTransactions,getIncomes:m,getExpenses:p,addIncome:E,addExpense:f,deleteIncome:v,deleteExpense:h}},t)};function T(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}n(58);var R=function(){var e=Object(a.useContext)(j),t=e.incomeTransactions,n=e.expenseTransactions,c=t.map((function(e){return e.incomeAmount})),o=n.map((function(e){return e.expenseAmount})),s=c.reduce((function(e,t){return e+t}),0).toFixed(2),l=(-1*o.reduce((function(e,t){return e-t}),0)).toFixed(2);return r.a.createElement("div",null,r.a.createElement("div",{className:"balance"},r.a.createElement("h2",null,"Your Balance"),r.a.createElement("h3",null,"$",T((s-l).toFixed(2))),r.a.createElement("div",{className:"income-expense"},r.a.createElement("div",{className:"plus"},r.a.createElement("h3",null,"Income"),r.a.createElement("p",null,"+$",T(s))),r.a.createElement("div",{className:"minus"},r.a.createElement("h3",null,"Expenses"),r.a.createElement("p",null,"-$",T(l))))))},S=n(10),w=(n(59),function(){var e=Object(a.useContext)(j).addIncome,t=Object(a.useState)({incomeText:"",incomeAmount:""}),n=Object(i.a)(t,2),c=n[0],o=n[1],s=c.incomeText,l=c.incomeAmount,u=function(e){o(Object(m.a)({},c,Object(S.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e({incomeText:s,incomeAmount:1*l}),o({incomeText:"",incomeAmount:""})}},r.a.createElement("div",{className:"input-group income"},r.a.createElement("input",{type:"text",placeholder:"Add Income...",autoComplete:"off",onChange:u,name:"incomeText",value:s}),r.a.createElement("input",{type:"number",placeholder:"Amount",autoComplete:"off",onChange:u,name:"incomeAmount",value:l}),r.a.createElement("input",{type:"submit",value:"Submit"}))))}),C=(n(60),function(){var e=Object(a.useContext)(j).addExpense,t=Object(a.useState)({expenseText:"",expenseAmount:""}),n=Object(i.a)(t,2),c=n[0],o=n[1],s=(c._id,c.expenseText),l=c.expenseAmount,u=function(e){o(Object(m.a)({},c,Object(S.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e({expenseText:s,expenseAmount:1*l}),o({expenseText:"",expenseAmount:""})}},r.a.createElement("div",{className:"input-group expense"},r.a.createElement("input",{type:"text",placeholder:"Add Expense...",autoComplete:"off",onChange:u,name:"expenseText",value:s}),r.a.createElement("input",{type:"number",placeholder:"Amount",autoComplete:"off",onChange:u,name:"expenseAmount",value:l}),r.a.createElement("input",{type:"submit",value:"Submit"}))))}),_=(n(61),function(e){var t=e.incomeTransaction,n=Object(a.useContext)(j).deleteIncome;return r.a.createElement("div",null,r.a.createElement("li",{className:"transaction"},r.a.createElement("span",{className:"transaction-text"},t.incomeText),r.a.createElement("span",{className:"transaction-amount"},"$",t.incomeAmount),r.a.createElement("button",{className:"delete-btn",onClick:function(){return n(t._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}),A=(n(62),function(){var e=Object(a.useContext)(j),t=e.incomeTransactions,n=e.getIncomes;return Object(a.useEffect)((function(){n()}),[]),r.a.createElement("div",{className:"transactions transactions-income"},r.a.createElement("h2",null,"Transaction History"),r.a.createElement("ul",{className:"transaction-list"},t.map((function(e){return r.a.createElement(_,{key:e._id,incomeTransaction:e})}))))}),k=function(e){var t=e.expenseTransaction,n=Object(a.useContext)(j).deleteExpense;return r.a.createElement("div",null,r.a.createElement("li",{className:"transaction"},r.a.createElement("span",{className:"transaction-text"},t.expenseText),r.a.createElement("span",{className:"transaction-amount"},"$",t.expenseAmount),r.a.createElement("button",{className:"delete-btn",onClick:function(){return n(t._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))},I=(n(63),function(){var e=Object(a.useContext)(j),t=e.expenseTransactions,n=e.getExpenses;return Object(a.useEffect)((function(){n()}),[]),r.a.createElement("div",{className:"transactions transactions-expense"},r.a.createElement("h2",null,"Transaction History"),r.a.createElement("ul",{className:"transaction-list"},t.map((function(e){return r.a.createElement(k,{key:e._id,expenseTransaction:e})}))))}),L=(n(64),function(){var e=Object(a.useContext)(h).getUser;return Object(a.useEffect)((function(){e()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(b,null),r.a.createElement(R,null),r.a.createElement(w,null),r.a.createElement(C,null),r.a.createElement(A,null),r.a.createElement(I,null)))}),U=(n(65),n(11)),D=(n(66),function(e){var t=Object(a.useContext)(h),n=t.registerUser,c=t.userAuth,o=t.errors,s=t.setError,l=t.clearError;Object(a.useEffect)((function(){c&&e.history.push("/")}),[c,e.history]);var u=Object(a.useState)({name:"",email:"",password:"",password2:""}),p=Object(i.a)(u,2),E=p[0],d=p[1],f=E.name,v=E.email,x=E.password,b=E.password2,O=function(e){d(Object(m.a)({},E,Object(S.a)({},e.target.name,e.target.value))),l()};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),x!==b?s({msg:"passwords don't match"}):(n({name:f,email:v,password:x}),l())}},r.a.createElement("input",{type:"text",name:"name",placeholder:"name",value:f,onChange:O}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:v,onChange:O}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:x,onChange:O}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Confirm password",value:b,onChange:O}),r.a.createElement("input",{type:"submit",value:"Sign Up"})),r.a.createElement("div",{className:"question"},null!==o&&r.a.createElement("button",{className:"danger"},o.msg?o.msg:o.error[0].msg,r.a.createElement("span",{onClick:function(){return l()},className:"clear"},"x")),r.a.createElement("p",null,"Already have an account ? "," ",r.a.createElement(U.b,{to:"/login",className:"question_link"},"Login")))))}),P=(n(72),function(e){var t=Object(a.useContext)(h),n=t.loginUser,c=t.userAuth,o=t.errors,s=t.clearError;Object(a.useEffect)((function(){c&&e.history.push("/")}),[c,e.history]);var l=Object(a.useState)({email:"",password:""}),u=Object(i.a)(l,2),p=u[0],E=u[1],d=p.email,f=p.password,v=function(e){E(Object(m.a)({},p,Object(S.a)({},e.target.name,e.target.value))),s()};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n({email:d,password:f}),s()}},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:d,onChange:v}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:f,onChange:v}),r.a.createElement("input",{type:"submit",value:"Login"})),r.a.createElement("div",{className:"question"},null!==o&&r.a.createElement("button",{className:"danger"},o.msg?o.msg:o.error[0].msg,r.a.createElement("span",{onClick:function(){return s()},className:"clear"},"x"))),r.a.createElement("p",null,"Don't have an account ? "," ",r.a.createElement(U.b,{to:"/register",className:"question_link"},"Sign Up"))))}),G=n(2),M=(n(73),function(){var e=Object(a.useContext)(h),t=e.logout,n=e.clearError,c=e.userAuth,o=(e.user,r.a.createElement(a.Fragment,null,r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){t(),n()}},r.a.createElement("span",{className:"sm-hide"},"Logout"))))),s=r.a.createElement(a.Fragment,null,r.a.createElement("li",null,r.a.createElement(U.b,{to:"/register"},"Sign in"),r.a.createElement(U.b,{to:"/login"},"Login")));return r.a.createElement("div",{className:"logo"},r.a.createElement("ul",{className:"links"},c?o:s))}),X=n(32),F=function(e){var t=e.component,n=Object(X.a)(e,["component"]),c=Object(a.useContext)(h).userAuth;return r.a.createElement("div",null,r.a.createElement(G.b,Object.assign({},n,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(G.a,{to:"/login"})}})))};localStorage.token&&f(localStorage.token);var $=function(){return r.a.createElement(x,null,r.a.createElement(N,null,r.a.createElement(U.a,null,r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(G.d,null,r.a.createElement(F,{exact:!0,path:"/",component:L}),r.a.createElement(G.b,{path:"/register",component:D}),r.a.createElement(G.b,{path:"/login",component:P}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.0c60fbe8.chunk.js.map